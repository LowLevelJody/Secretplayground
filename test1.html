<script>
    function next() {
            w.location.href="http://localhost:3000/301.php";
          }


    function f() {
      w = window.open("");
      w.location = "https://abc.xyz"
      i = setInterval("try { x = w.location.href; } catch(e) { clearInterval(i); next(); }", 1)
    }
  </script>

  <a href="#" onclick="f()">click me</a>
